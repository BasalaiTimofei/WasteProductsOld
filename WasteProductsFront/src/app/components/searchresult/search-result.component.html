<mat-card>
  <div *ngIf="length === 0; else searchResults">
      <mat-toolbar>Поиск не дал результатов</mat-toolbar>
  </div>
  <ng-template #searchResults>
    <div *ngIf="length > 0">
      <mat-toolbar color="">Результаты поиска</mat-toolbar>
        <mat-list>
          <mat-list-item *ngFor="let result of tempProducts">
            <img mat-list-icon *ngIf="result.PicturePath === null; else noIcon"
                src="result.PicturePath"
                (click)="showPreview(result.Name, result.PicturePath)"
                matTooltip="Открыть в исходном размере" >
            <ng-template #noIcon>
              <img mat-list-icon src="../../../favicon.ico"
                                matTooltip="Изображение отсутствует" >
            </ng-template>
            <p mat-line> {{result.Name}} </p>
            <div *ngIf="isAuth">
              <div *ngIf="!result.IsAdded; else added">
                <button  matSuffix mat-button mat-icon-button (click)="addToMyProducts(result.Id)">
                  <mat-icon matTooltip="Добавить продукт в Мои продукты">star_border</mat-icon>
                </button>
              </div>
            </div>
            <button matSuffix mat-button mat-icon-button>
              <mat-icon matTooltip="Подробнее" (click)="showDetails(result.Id)">assignment</mat-icon> <!--MyStubs-->
            </button>
            <ng-template #added>
              <button  matSuffix mat-button mat-icon-button (click)="removeFromMyProducts(result.Id)">
                <mat-icon matTooltip="Удалить из Мои продукты">star</mat-icon><!-- Если продукт не добавлен в список юзера-->
              </button>
            </ng-template>
        </mat-list-item>
        <mat-divider></mat-divider>
      </mat-list>
      <mat-paginator [length]="length"
               [pageSize]="pageSize"
               [pageIndex]="pageIndex"
               [pageSizeOptions]="[5, 10]"
               (page)="pageEvent = changePageEvent($event)">
      </mat-paginator>
    </div>
  </ng-template>
</mat-card>
